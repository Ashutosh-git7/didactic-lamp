<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ashirwad Mini App</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8f9fa;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: #333;
    }
    .box {
      background: white;
      padding: 20px;
      border-radius: 12px;
      max-width: 400px;
      margin: 20px auto;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    input,
    button {
      width: 90%;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    button {
      background-color: #28a745;
      color: white;
      border: none;
      font-weight: bold;
    }
    .hidden {
      display: none;
    }
    #walletBox {
      background: #f0fff0;
      padding: 15px;
      border: 1px dashed #28a745;
      border-radius: 10px;
      margin-top: 15px;
      font-family: monospace;
      word-wrap: break-word;
      font-size: 14px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #aaa;
      padding: 5px;
    }
    th {
      background-color: #e0ffe0;
    }
  </style>
</head>
<body>

  <h1>🪔 Ashirwad Plan</h1>

  <div id="authBox" class="box">
    <h2>Register</h2>
    <input type="text" id="regName" placeholder="Your Name" />
    <input type="text" id="regPhone" placeholder="Phone Number" />
    <input type="text" id="regRef" placeholder="Referral Code (Optional)" />
    <button onclick="register()">Register</button>
    <p>Already registered? <a href="#" onclick="toggleLogin()">Login</a></p>
    <p><a href="#" onclick="toggleAdminLogin()">👤 Admin Login</a></p>
  </div>

  <div id="loginBox" class="box hidden">
    <h2>Login</h2>
    <input type="text" id="loginPhone" placeholder="Phone Number" />
    <button onclick="login()">Login</button>
    <p>New user? <a href="#" onclick="toggleRegister()">Register</a></p>
  </div>

  <div id="adminLoginBox" class="box hidden">
    <h2>Admin Login</h2>
    <input type="text" id="adminUser" placeholder="Admin ID" />
    <input type="password" id="adminPass" placeholder="Password" />
    <button onclick="adminLogin()">Login as Admin</button>
    <p><a href="#" onclick="toggleRegister()">← Back</a></p>
  </div>

  <div id="dashboard" class="box hidden">
    <h2>Welcome, <span id="userName"></span> 👋</h2>
    <p>📆 Monthly Deposit: ₹100 – ₹1000</p>
    <p>🎁 20% Return in 13th Month</p>
    <p>🔗 Referral Income: 5%</p>

    <button onclick="showWallet()">Make Deposit</button>

    <div id="walletBox" class="hidden">
      <p><strong>Send USDT (BEP20)</strong> to:</p>
      <p style="color: green;">0x49F7A836A32C1aCF04d4d20Fa87A14C7a19aB74B</p>
      <p>⚠️ Minimum: $10 USDT</p>
    </div>

    <button onclick="logout()">Logout</button>
  </div>

  <div id="adminPanel" class="box hidden">
    <h2>👑 Admin Panel</h2>
    <p>Registered Users:</p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Phone</th>
          <th>Referral</th>
        </tr>
      </thead>
      <tbody id="userList"></tbody>
    </table>
    <button onclick="adminLogout()">Logout</button>
  </div>

  <script>
    function toggleLogin() {
      document.getElementById("authBox").classList.add("hidden");
      document.getElementById("loginBox").classList.remove("hidden");
      document.getElementById("adminLoginBox").classList.add("hidden");
    }

    function toggleRegister() {
      document.getElementById("authBox").classList.remove("hidden");
      document.getElementById("loginBox").classList.add("hidden");
      document.getElementById("adminLoginBox").classList.add("hidden");
    }

    function toggleAdminLogin() {
      document.getElementById("authBox").classList.add("hidden");
      document.getElementById("loginBox").classList.add("hidden");
      document.getElementById("adminLoginBox").classList.remove("hidden");
    }

    function register() {
      const name = document.getElementById("regName").value;
      const phone = document.getElementById("regPhone").value;
      const ref = document.getElementById("regRef").value;

      if (!name || !phone) return alert("Fill all fields");

      const users = JSON.parse(localStorage.getItem("users") || "[]");
      users.push({ name, phone, ref });
      localStorage.setItem("users", JSON.stringify(users));
      localStorage.setItem("userName", name);
      localStorage.setItem("userPhone", phone);
      showDashboard();
    }

    function login() {
      const phone = document.getElementById("loginPhone").value;
      const users = JSON.parse(localStorage.getItem("users") || "[]");
      const user = users.find(u => u.phone === phone);
      if (user) {
        localStorage.setItem("userName", user.name);
        localStorage.setItem("userPhone", user.phone);
        showDashboard();
      } else {
        alert("User not found");
      }
    }

    function logout() {
      document.getElementById("dashboard").classList.add("hidden");
      toggleLogin();
    }

    function showDashboard() {
      document.getElementById("authBox").classList.add("hidden");
      document.getElementById("loginBox").classList.add("hidden");
      document.getElementById("dashboard").classList.remove("hidden");
      document.getElementById("userName").innerText = localStorage.getItem("userName") || "User";
    }

    function showWallet() {
      document.getElementById("walletBox").classList.remove("hidden");
    }

    function adminLogin() {
      const id = document.getElementById("adminUser").value;
      const pass = document.getElementById("adminPass").value;

      if (id === "admin" && pass === "admin123") {
        showAdminPanel();
      } else {
        alert("Invalid admin credentials");
      }
    }

    function showAdminPanel() {
      document.getElementById("authBox").classList.add("hidden");
      document.getElementById("adminLoginBox").classList.add("hidden");
      document.getElementById("adminPanel").classList.remove("hidden");

      const users = JSON.parse(localStorage.getItem("users") || "[]");
      const list = document.getElementById("userList");
      list.innerHTML = "";

      users.forEach(u => {
        const row = `<tr><td>${u.name}</td><td>${u.phone}</td><td>${u.ref || "-"}</td></tr>`;
        list.innerHTML += row;
      });
    }

    function adminLogout() {
      document.getElementById("adminPanel").classList.add("hidden");
      toggleRegister();
    }

    window.onload = () => {
      if (localStorage.getItem("userName")) {
        showDashboard();
      }
    };
  </script>
</body>
</html>
      
