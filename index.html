<!DOCTYPE html>
<html>
<head>
  <title>üöÄ Ashirwad Mart P - Founder Registration</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- jsPDF CDN for Certificate Generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #121212 0%, #1a1a2e 50%, #16213e 100%);
      color: #e0e0e0;
      margin: 0;
      padding: 20px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h2 { color: #00ffe1; text-align: center; margin: 20px 0; font-size: 28px; }
    .box {
      background: rgba(30, 30, 30, 0.95);
      padding: 30px;
      margin: 20px 0;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0, 255, 225, 0.2);
      width: 100%;
      max-width: 500px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(0, 255, 225, 0.1);
    }
    input, select, textarea {
      padding: 15px;
      margin: 12px 0;
      width: 100%;
      border-radius: 10px;
      border: 1px solid #333;
      font-size: 16px;
      background: rgba(42, 42, 42, 0.8);
      color: #fff;
      box-sizing: border-box;
      transition: all 0.3s ease;
    }
    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #00ffe1;
      background: rgba(57, 57, 57, 0.9);
      box-shadow: 0 0 15px rgba(0, 255, 225, 0.3);
    }
    button {
      padding: 15px 25px;
      margin: 10px 5px;
      border-radius: 10px;
      border: none;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
    }
    .btn-primary {
      background: linear-gradient(45deg, #00ffe1, #00c7aa);
      color: #000;
    }
    .btn-primary:hover { background: linear-gradient(45deg, #00c7aa, #00ffe1); transform: translateY(-2px); }
    .btn-success { background: linear-gradient(45deg, #28a745, #20c997); color: white; }
    .btn-success:hover { background: linear-gradient(45deg, #20c997, #28a745); }
    .btn-danger { background: linear-gradient(45deg, #dc3545, #c82333); color: white; }
    .btn-danger:hover { background: linear-gradient(45deg, #c82333, #dc3545); }
    .btn-warning { background: linear-gradient(45deg, #ffc107, #e0a800); color: #000; }
    .btn-warning:hover { background: linear-gradient(45deg, #e0a800, #ffc107); }
    .payment-info {
      background: rgba(40, 167, 69, 0.2);
      padding: 20px;
      border-radius: 12px;
      border-left: 4px solid #28a745;
      margin: 20px 0;
    }
    .code-display {
      background: linear-gradient(45deg, #00ffe1, #00c7aa);
      color: #000;
      font-size: 24px;
      font-weight: 700;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      margin: 20px 0;
      letter-spacing: 3px;
    }
    .status-pending { color: #ffc107; }
    .status-approved { color: #28a745; }
    .status-rejected { color: #dc3545; }
    .admin-login-box {
      background: rgba(220, 53, 69, 0.15);
      border: 2px solid #dc3545;
    }
    .hidden { display: none !important; }
    .auth-section { margin-top: 20px; padding: 15px; background: rgba(0,255,225,0.1); border-radius: 10px; }
    .certificate-box {
      border: 2px solid #28a745;
      background: rgba(40, 167, 69, 0.15);
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.8);
    }
    .modal-content {
      background: rgba(30, 30, 30, 0.95);
      margin: 5% auto;
      padding: 30px;
      border-radius: 16px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      border: 1px solid rgba(0, 255, 225, 0.3);
    }
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    .close:hover { color: #00ffe1; }
    @media (max-width: 640px) {
      .box { padding: 20px 15px; margin: 10px 0; }
      h2 { font-size: 24px; }
      .modal-content { margin: 10% auto; width: 95%; }
    }
  </style>
</head>
<body>
  <h2>üöÄ Ashirwad Mart P - Founder Registration</h2>

  <!-- Founder Registration Form -->
  <div id="registerBox" class="box">
    <h3>üëë Founder Registration (‚Çπ150)</h3>
    <p><strong>Product:</strong> Pitambari Gel and Founder Certificae</p>
    
    <div class="payment-info">
      <h4>üí∞ Payment Details</h4>
      <p><strong>UPI ID:</strong> <code>ashutoshkarmkar7-1@oksbi</code></p>
      <p><strong>Amount:</strong> <strong>‚Çπ150</strong></p>
      <p><em>Payment karne ke baad "Payment Reference" mein UPI Transaction ID daalein</em></p>
    </div>

    <input type="text" id="founderName" placeholder="Full Name *" required />
    <input type="tel" id="founderMobile" placeholder="Mobile Number *" required />
    <input type="email" id="founderEmail" placeholder="Email (optional)" />
    <input type="text" id="founderAddress" placeholder="Address *" required />
    <input type="text" id="paymentRef" placeholder="UPI Transaction ID / Reference *" required />
    <input type="text" id="paymentScreenshot" placeholder="Payment Screenshot URL (optional)" />
    
    <select id="productReceived">
      <option value="No">Product Received? No</option>
      <option value="Yes">Product Received? Yes</option>
    </select>
    
    <button class="btn-primary" onclick="registerFounder()">üìù Register Founder</button>
  </div>

  <!-- CERTIFICATE DOWNLOAD SECTION -->
  <div id="certificateBox" class="box certificate-box">
    <h3>üìú Founder Certificate Download</h3>
    <p><strong>‚úÖ Approval ke baad yahan se PDF Certificate download karein</strong></p>
    <input type="tel" id="certMobile" placeholder="Registered Mobile Number *" required />
    <input type="text" id="certCode" placeholder="Founder Code (FXXXXXXX) *" required />
    <button class="btn-success" onclick="downloadCertificate()">üéì Download Certificate PDF</button>
    <p style="font-size: 12px; color: #aaa; margin-top: 10px;">
      <em>Admin approval ke baad hi download hoga</em>
    </p>
  </div>

  <!-- Admin Login -->
  <div id="adminLoginBox" class="box admin-login-box">
    <h3>üîê Admin Login</h3>
    <div class="auth-section">
      <p><strong>Admin Email:</strong> admin@ashirwadmart.com</p>
      <input type="password" id="adminPasswordInput" placeholder="Enter Password" />
      <button class="btn-success" onclick="adminSignIn()">Login to Admin Panel</button>
    </div>
  </div>

  <!-- Admin Panel -->
  <div id="adminPanel" class="box hidden" style="max-width: 1200px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
      <h3>üõ†Ô∏è Admin - Founder Registrations</h3>
      <div>
        <button class="btn-success" onclick="refreshFounders()" style="width: auto; padding: 10px 20px; margin-right: 10px;">üîÑ Refresh</button>
        <button class="btn-danger" onclick="adminLogout()" style="width: auto; padding: 10px 20px;">üö™ Logout</button>
      </div>
    </div>
    
    <div id="foundersList"></div>
  </div>

  <!-- Edit Modal -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeEditModal()">&times;</span>
      <h3>‚úèÔ∏è Edit Founder Details</h3>
      <input type="text" id="editName" placeholder="Full Name" />
      <input type="tel" id="editMobile" placeholder="Mobile Number" />
      <input type="email" id="editEmail" placeholder="Email" />
      <input type="text" id="editAddress" placeholder="Address" />
      <input type="text" id="editPaymentRef" placeholder="Payment Reference" />
      <select id="editProductReceived">
        <option value="No">Product Received? No</option>
        <option value="Yes">Product Received? Yes</option>
      </select>
      <select id="editStatus">
        <option value="Pending">Pending</option>
        <option value="Approved">Approved</option>
        <option value="Rejected">Rejected</option>
      </select>
      <div style="display: flex; gap: 10px;">
        <button class="btn-primary" onclick="saveEdit()" style="flex: 1;">üíæ Save Changes</button>
        <button class="btn-danger" onclick="deleteFounder()" style="flex: 1;">üóëÔ∏è Delete Founder</button>
      </div>
    </div>
  </div>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyCBXuE2NHuZkKeQY7JjYM5vpbF1-K9AcS8",
    authDomain: "ashirwadmart-6d657.firebaseapp.com",
    databaseURL: "https://ashirwadmart-6d657-default-rtdb.firebaseio.com",
    projectId: "ashirwadmart-6d657",
    storageBucket: "ashirwadmart-6d657.appspot.com",
    messagingSenderId: "1013585797321",
    appId: "1:1013585797321:web:8a5c5fdb50c6aa7e7e57aa"
  };
  
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const auth = firebase.auth();

  let isAdminLoggedIn = false;
  let editingKey = null;

  // Secure founder code generation with retry
  async function generateUniqueFounderCode() {
    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let attempts = 0;
    while (attempts < 10) {
      let code = 'F';
      for (let i = 0; i < 7; i++) {
        code += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      
      const codeCheck = await db.ref('founders').orderByChild('code').equalTo(code).once('value');
      if (!codeCheck.exists()) {
        return code;
      }
      attempts++;
    }
    return 'F' + Date.now().toString(36).toUpperCase().substring(0, 7);
  }

  async function registerFounder() {
    const name = document.getElementById('founderName').value.trim();
    const mobile = document.getElementById('founderMobile').value.trim();
    const email = document.getElementById('founderEmail').value.trim();
    const address = document.getElementById('founderAddress').value.trim();
    const paymentRef = document.getElementById('paymentRef').value.trim();
    const screenshot = document.getElementById('paymentScreenshot').value.trim();
    const productReceived = document.getElementById('productReceived').value;

    if (!name || !mobile || !address || !paymentRef) {
      return alert('‚ùå ‡§∏‡§≠‡•Ä required fields ‡§≠‡§∞‡•á‡§Ç!');
    }

    if (mobile.length !== 10 || isNaN(mobile)) {
      return alert('‚ùå Valid 10-digit mobile number enter ‡§ï‡§∞‡•á‡§Ç!');
    }

    try {
      const founderCode = await generateUniqueFounderCode();
      
      const founderData = {
        name,
        mobile,
        email: email || '',
        address,
        paymentRef,
        screenshot,
        productReceived,
        code: founderCode,
        status: 'Pending',
        timestamp: new Date().toISOString(),
        paymentAmount: 150
      };

      await db.ref('founders').push(founderData);
      
      alert(`‚úÖ Founder Registered!

Your Unique Founder Code: ${founderCode}

‡§á‡§∏‡•á safe ‡§∞‡§ñ‡•á‡§Ç ‡§î‡§∞ share ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§
Admin approval ‡§ï‡§æ wait ‡§ï‡§∞‡•á‡§Ç‡•§`);
      
      // Clear form
      document.getElementById('founderName').value = '';
      document.getElementById('founderMobile').value = '';
      document.getElementById('founderEmail').value = '';
      document.getElementById('founderAddress').value = '';
      document.getElementById('paymentRef').value = '';
      document.getElementById('paymentScreenshot').value = '';
      
      showFounderCode(founderCode);
    } catch (err) {
      alert('‚ùå Registration failed: ' + err.message);
    }
  }

  function showFounderCode(code) {
    const box = document.getElementById('registerBox');
    const existingCode = box.querySelector('.code-display');
    if (existingCode) existingCode.remove();
    
    box.innerHTML += `
      <div class="code-display">üéâ ${code} üéâ</div>
      <p style="text-align: center; color: #00ffe1;">
        Founder Code generate ‡§π‡•ã ‡§ó‡§Ø‡§æ! Admin approval ‡§ï‡§æ wait ‡§ï‡§∞‡•á‡§Ç‡•§
      </p>
    `;
  }

  // FIXED CERTIFICATE DOWNLOAD FUNCTION
  async function downloadCertificate() {
    const mobile = document.getElementById('certMobile').value.trim();
    const code = document.getElementById('certCode').value.trim().toUpperCase();

    if (!mobile || !code) return alert('‚ùå Mobile number aur Founder Code enter karein!');
    if (mobile.length !== 10 || isNaN(mobile)) {
      return alert('‚ùå Valid 10-digit mobile number enter karein!');
    }
    if (!code.startsWith('F')) {
      return alert('‚ùå Founder Code "F" se start hona chahiye!');
    }

    try {
      console.log('Searching for founder with mobile:', mobile, 'and code:', code);
      
      // First check by mobile
      const mobileSnap = await db.ref('founders')
        .orderByChild('mobile')
        .equalTo(mobile)
        .once('value');

      if (!mobileSnap.exists()) {
        return alert('‚ùå Is mobile number se koi founder registration nahi mila!');
      }

      let matchedFounder = null;
      mobileSnap.forEach(child => {
        const data = child.val();
        console.log('Found founder:', data.code, 'vs input:', code);
        if (data.code && data.code.toUpperCase() === code) {
          matchedFounder = data;
          editingKey = child.key; // Store key for reference
        }
      });

      if (!matchedFounder) {
        return alert('‚ùå Founder Code galat hai ya is mobile number se match nahi ho raha!');
      }

      console.log('Matched founder status:', matchedFounder.status);
      
      if (matchedFounder.status !== 'Approved') {
        return alert(`‚è≥ Aapka registration status: "${matchedFounder.status}" hai‡•§ Admin se approval ka wait karein‡•§`);
      }

      // Generate PDF Certificate
      generateCertificatePDF(matchedFounder);
      
      // Clear fields
      document.getElementById('certMobile').value = '';
      document.getElementById('certCode').value = '';
      
    } catch (err) {
      console.error('Certificate error:', err);
      alert('‚ùå Error: ' + err.message);
    }
  }

  function generateCertificatePDF(founder) {
    try {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF('landscape', 'pt', 'a4');

      const pageWidth = doc.internal.pageSize.getWidth();
      const pageHeight = doc.internal.pageSize.getHeight();

      // Beautiful border
      doc.setLineWidth(5);
      doc.setDrawColor(0, 255, 225);
      doc.rect(30, 30, pageWidth - 60, pageHeight - 60);

      // Title
      doc.setFont('helvetica', 'bold');
      doc.setFontSize(32);
      doc.setTextColor(0, 255, 225);
      doc.text('ASHIRWAD MART P', pageWidth / 2, 100, { align: 'center' });

      doc.setFontSize(22);
      doc.setTextColor(255, 255, 255);
      doc.text('FOUNDER CERTIFICATE', pageWidth / 2, 140, { align: 'center' });

      // Certificate text
      doc.setFontSize(16);
      doc.setTextColor(220, 220, 220);
      doc.text('This is to certify that', pageWidth / 2, 190, { align: 'center' });

      // Founder Name - BIG
      doc.setFontSize(28);
      doc.setFont('helvetica', 'bold');
      doc.setTextColor(0, 255, 225);
      doc.text(founder.name.toUpperCase(), pageWidth / 2, 230, { align: 'center' });

      // Details
      doc.setFontSize(14);
      doc.setFont('helvetica', 'normal');
      doc.setTextColor(200, 200, 200);

      const approvedDate = founder.approvedAt || founder.timestamp;
      const dateStr = approvedDate ? new Date(approvedDate).toLocaleDateString('en-IN') : new Date().toLocaleDateString('en-IN');

      doc.text(`Founder Code: ${founder.code}`, pageWidth / 2, 270, { align: 'center' });
      doc.text(`Mobile: ${founder.mobile}`, pageWidth / 2, 295, { align: 'center' });
      doc.text(`Approval Date: ${dateStr}`, pageWidth / 2, 320, { align: 'center' });

      // Signature area
      doc.setFontSize(12);
      doc.text('Authorised Signatory', pageWidth - 200, pageHeight - 80);
      doc.text('Ashirwad Mart P', pageWidth - 200, pageHeight - 55);
      doc.text('admin@ashirwadmart.com', pageWidth - 200, pageHeight - 40);

      // Save PDF
      const fileName = `AshirwadMartP_Founder_${founder.code}_${founder.name.replace(/[^a-zA-Z0-9]/g, '')}.pdf`;
      doc.save(fileName);

      alert('üéâ Certificate successfully downloaded!');
    } catch (pdfErr) {
      console.error('PDF generation error:', pdfErr);
      alert('‚ùå PDF generation failed. Console me error check karein.');
    }
  }

  // Admin functions
  async function adminSignIn() {
    const password = document.getElementById('adminPasswordInput').value;
    if (!password) return alert('‚ùå Password enter ‡§ï‡§∞‡•á‡§Ç!');

    if (password === 'Jaihanuman@2025!') {
      isAdminLoggedIn = true;
      document.getElementById('adminLoginBox').classList.add('hidden');
      document.getElementById('adminPanel').classList.remove('hidden');
      document.getElementById('adminPasswordInput').value = '';
      loadFounders();
      alert('‚úÖ Admin Login Successful!');
    } else {
      alert('‚ùå Wrong Password!');
      document.getElementById('adminPasswordInput').value = '';
    }
  }

  function adminLogout() {
    isAdminLoggedIn = false;
    document.getElementById('adminPanel').classList.add('hidden');
    document.getElementById('adminLoginBox').classList.remove('hidden');
    document.getElementById('adminPasswordInput').value = '';
    document.getElementById('foundersList').innerHTML = '';
  }

  // NEW: Edit Modal Functions
  function openEditModal(key, data) {
    if (!isAdminLoggedIn) return alert('‚ùå Admin login required!');
    
    editingKey = key;
    document.getElementById('editName').value = data.name || '';
    document.getElementById('editMobile').value = data.mobile || '';
    document.getElementById('editEmail').value = data.email || '';
    document.getElementById('editAddress').value = data.address || '';
    document.getElementById('editPaymentRef').value = data.paymentRef || '';
    document.getElementById('editProductReceived').value = data.productReceived || 'No';
    document.getElementById('editStatus').value = data.status || 'Pending';
    
    document.getElementById('editModal').style.display = 'block';
  }

  function closeEditModal() {
    document.getElementById('editModal').style.display = 'none';
    editingKey = null;
  }

  async function saveEdit() {
    if (!editingKey || !isAdminLoggedIn) return;
    
    const updates = {
      name: document.getElementById('editName').value.trim(),
      mobile: document.getElementById('editMobile').value.trim(),
      email: document.getElementById('editEmail').value.trim(),
      address: document.getElementById('editAddress').value.trim(),
      paymentRef: document.getElementById('editPaymentRef').value.trim(),
      productReceived: document.getElementById('editProductReceived').value,
      status: document.getElementById('editStatus').value
    };

    if (updates.status === 'Approved') {
      updates.certificateAvailable = true;
      updates.approvedAt = new Date().toISOString();
    }

    try {
      await db.ref('founders/' + editingKey).update(updates);
      alert('‚úÖ Founder details updated successfully!');
      closeEditModal();
      loadFounders();
    } catch (err) {
      alert('‚ùå Update failed: ' + err.message);
    }
  }

  async function deleteFounder() {
    if (!editingKey || !isAdminLoggedIn) return;
    
    if (confirm('üóëÔ∏è Are you sure you want to PERMANENTLY delete this founder?')) {
      try {
        await db.ref('founders/' + editingKey).remove();
        alert('‚úÖ Founder deleted successfully!');
        closeEditModal();
        loadFounders();
      } catch (err) {
        alert('‚ùå Delete failed: ' + err.message);
      }
    }
  }

  function loadFounders() {
    if (!isAdminLoggedIn) return;
    
    db.ref('founders').orderByChild('timestamp').limitToLast(100).on('value', snap => {
      let html = '<table style="width: 100%; border-collapse: collapse; margin-top: 20px;">';
      html += '<thead><tr style="background: linear-gradient(45deg, #00ffe1, #00c7aa); color: #000;">';
      html += '<th style="padding: 12px; text-align: center;">Code</th>';
      html += '<th style="padding: 12px;">Name</th>';
      html += '<th style="padding: 12px;">Mobile</th>';
      html += '<th style="padding: 12px;">Payment Ref</th>';
      html += '<th style="padding: 12px;">Status</th>';
      html += '<th style="padding: 12px;">Date</th>';
      html += '<th style="padding: 12px;">Actions</th></tr></thead><tbody>';

      let totalPending = 0, totalApproved = 0, totalRejected = 0;

      snap.forEach(child => {
        const data = child.val();
        const key = child.key;
        const statusClass = data.status === 'Approved' ? 'status-approved' : 
                           data.status === 'Rejected' ? 'status-rejected' : 'status-pending';
        const date = data.timestamp ? new Date(data.timestamp).toLocaleString('en-IN') : '';
        
        if (data.status === 'Pending') totalPending++;
        if (data.status === 'Approved') totalApproved++;
        if (data.status === 'Rejected') totalRejected++;

        html += `<tr style="border-bottom: 1px solid #333;">`;
        html += `<td style="padding: 12px; font-weight: bold; color: #00ffe1;">${data.code}</td>`;
        html += `<td style="padding: 12px;">${data.name}</td>`;
        html += `<td style="padding: 12px;">${data.mobile}</td>`;
        html += `<td style="padding: 12px; font-size: 12px; max-width: 150px; word-break: break-all;">${data.paymentRef}</td>`;
        html += `<td style="padding: 12px;"><span class="${statusClass}">${data.status}</span></td>`;
        html += `<td style="padding: 12px; font-size: 12px;">${date}</td>`;
        html += `<td style="padding: 12px;">
                  <button class="btn-warning" onclick="openEditModal('${key}', ${JSON.stringify(data)})" 
                          title="Edit" style="padding: 5px 10px; margin: 2px; font-size: 12px;">‚úèÔ∏è Edit</button>
                  <button class="btn-success" onclick="updateStatus('${key}', 'Approved')" 
                          style="padding: 5px 10px; margin: 2px; font-size: 12px;">‚úÖ Approve</button>
                  <button class="btn-danger" onclick="updateStatus('${key}', 'Rejected')" 
                          style="padding: 5px 10px; margin: 2px; font-size: 12px;">‚ùå Reject</button>
                 </td>`;
        html += `</tr>`;
      });

      html += '</tbody></table>';
      html += `<div style="margin-top: 20px; padding: 15px; background: rgba(0,255,225,0.1); border-radius: 10px;">`;
      html += `<strong>üìä Total: Pending-${totalPending} | Approved-${totalApproved} | Rejected-${totalRejected}</strong>`;
      html += `</div>`;

      document.getElementById('foundersList').innerHTML = html;
    });
  }

  function updateStatus(key, status) {
    if (!isAdminLoggedIn) return alert('‚ùå Admin login required!');
    
    if (confirm(`Are you sure? Status will be changed to "${status}"`)) {
      const updates = { status };
      if (status === 'Approved') {
        updates.certificateAvailable = true;
        updates.approvedAt = new Date().toISOString();
      }
      db.ref('founders/' + key).update(updates).then(() => {
        alert('‚úÖ Status updated successfully!');
        loadFounders();
      }).catch(err => {
        alert('‚ùå Error: ' + err.message);
      });
    }
  }

  function refreshFounders() {
    loadFounders();
  }

  // Modal backdrop click to close
  window.onclick = function(event) {
    const modal = document.getElementById('editModal');
    if (event.target == modal) {
      closeEditModal();
    }
  }

  // Enter key support
  document.addEventListener('keypress', function(e) {
    if (e.key === 'Enter' && document.getElementById('adminPasswordInput') === document.activeElement) {
      adminSignIn();
    }
  });

  // Initialize
  document.getElementById('adminPasswordInput').focus();
</script>
</body>
</html>
