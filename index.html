<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ashirwad Telegram Mini App</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 450px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 { color: #2e7d32; }
    input, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    .info-box {
      background: #e8f5e9;
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
      font-size: 14px;
    }
    .note {
      font-size: 12px;
      color: #777;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üåü Ashirwad Investment</h2>

    <div class="info-box">
      ‚úÖ Invest: <b>$10 - $1000</b><br/>
      üí∏ Monthly Return: <b>5% after 30 days</b><br/>
      üë• Direct Referral Bonus: <b>10%</b><br/>
      üíº Minimum Withdrawal: <b>$1</b>
    </div>

    <p><b>USDT Deposit Address (BEP20):</b></p>
    <code>0x49F7A836A32C1aCF04d4d20Fa87A14C7a19aB74B</code>

    <p>üí≥ Enter Your Deposit Amount ($):</p>
    <input type="number" id="depositAmount" min="10" max="1000" placeholder="e.g. 50">

    <p>üîê Your USDT Wallet (for Withdrawal):</p>
    <input type="text" id="usdtWallet" placeholder="Your BEP20 wallet address">

    <button onclick="submitDeposit()">‚úÖ Submit Deposit</button>

    <div class="note">
      Your referral link will be generated after deposit.<br/>
      Referral earnings: 10% of direct referrals.
    </div>
  </div>

  <script>
    Telegram.WebApp.ready();

    const tgUser = Telegram.WebApp.initDataUnsafe?.user || { id: 0, first_name: 'Guest' };
    console.log("Telegram User:", tgUser);

    function submitDeposit() {
      const amount = document.getElementById("depositAmount").value;
      const wallet = document.getElementById("usdtWallet").value;

      if (!amount || amount < 10 || amount > 1000) {
        alert("Deposit amount must be between $10 and $1000.");
        return;
      }
      if (!wallet || wallet.length < 10) {
        alert("Please enter a valid USDT wallet address.");
        return;
      }

      const payload = {
        telegram_id: tgUser.id,
        name: tgUser.first_name,
        amount: amount,
        wallet: wallet
      };

      fetch("submit.php", {
        method: "POST",
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      })
      .then(res => res.text())
      .then(data => {
        alert("Deposit submitted! Admin will verify soon.");
        Telegram.WebApp.close();
      });
    }
  </script>
</body>
</html>
