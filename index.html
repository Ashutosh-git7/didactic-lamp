<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ashirwad Plan</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f1f1f1;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    .container {
      max-width: 480px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    input, button {
      width: 90%;
      margin: 10px 0;
      padding: 10px;
      font-size: 16px;
    }
    .section {
      margin-top: 30px;
      text-align: left;
    }
    .card {
      background: #e6f7ff;
      margin: 10px 0;
      padding: 10px;
      border-left: 5px solid #1890ff;
    }
    .admin-section {
      background: #fffbe6;
      border-left: 5px solid #faad14;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üåü Ashirwad Plan</h2>

    <!-- Login & Registration -->
    <div id="authSection">
      <input type="text" id="username" placeholder="Your Name or 'admin'" />
      <input type="password" id="password" placeholder="Password (for admin)" />
      <input type="text" id="referral" placeholder="Referral Code (optional)" />
      <button onclick="login()">Login / Register</button>
    </div>

    <!-- User Dashboard -->
    <div id="userApp" style="display:none;">
      <h3>Welcome, <span id="userDisplay"></span>!</h3>
      <button onclick="logout()">Logout</button>

      <div class="section">
        <h4>üí∏ Make Monthly Deposit</h4>
        <input type="number" id="depositAmount" placeholder="Amount (100 - 1000)" />
        <button onclick="makeDeposit()">Deposit</button>
      </div>

      <div class="section">
        <h4>üí∞ My Deposits</h4>
        <div id="depositList"></div>
        <div class="card">Total Deposited: ‚Çπ<span id="totalDeposits">0</span></div>
        <div class="card">Expected Return (13th Month): ‚Çπ<span id="expectedReturn">0</span></div>
      </div>

      <div class="section">
        <h4>üîê Save USDT Wallet</h4>
        <input type="text" id="walletAddress" placeholder="Your USDT Wallet" />
        <button onclick="saveWallet()">Save Wallet</button>
        <div class="card">Saved Wallet: <span id="walletDisplay">Not saved</span></div>
      </div>

      <div class="section">
        <h4>üë• My Referral Team</h4>
        <div id="referralList"></div>
      </div>

      <div class="section">
        <h4>üíµ Referral Commission</h4>
        <div class="card">Earned: ‚Çπ<span id="referralIncome">0</span></div>
      </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" style="display:none;">
      <h3>üõ† Admin Panel</h3>
      <button onclick="logout()">Logout</button>
      <div id="userList"></div>
    </div>
  </div>

  <script>
    const adminCreds = { username: "admin", password: "admin123" };
    const users = JSON.parse(localStorage.getItem("ashirwadUsers") || "{}");
    let currentUser = localStorage.getItem("ashirwadUser");

    if (currentUser) {
      if (currentUser === "admin") showAdmin();
      else showUser();
    }

    function login() {
      const name = document.getElementById("username").value.trim();
      const pass = document.getElementById("password").value.trim();
      const ref = document.getElementById("referral").value.trim();

      if (!name) return alert("Enter username");

      if (name === "admin") {
        if (pass !== adminCreds.password) return alert("Wrong password!");
        localStorage.setItem("ashirwadUser", "admin");
        showAdmin();
        return;
      }

      if (!users[name]) {
        users[name] = { deposits: [], wallet: "", referralBy: ref, team: [], commission: 0 };
        if (ref && users[ref]) users[ref].team.push(name);
      }
      localStorage.setItem("ashirwadUsers", JSON.stringify(users));
      localStorage.setItem("ashirwadUser", name);
      showUser();
    }

    function logout() {
      localStorage.removeItem("ashirwadUser");
      location.reload();
    }

    function showUser() {
      document.getElementById("authSection").style.display = "none";
      document.getElementById("userApp").style.display = "block";
      const u = localStorage.getItem("ashirwadUser");
      document.getElementById("userDisplay").innerText = u;
      loadDashboard(u);
    }

    function makeDeposit() {
      const amt = parseInt(document.getElementById("depositAmount").value);
      if (isNaN(amt) || amt < 100 || amt > 1000) return alert("Amount must be ‚Çπ100-‚Çπ1000");

      const name = localStorage.getItem("ashirwadUser");
      users[name].deposits.push({ amount: amt, month: new Date().toLocaleDateString() });

      const ref = users[name].referralBy;
      if (ref && users[ref]) users[ref].commission += Math.floor(amt * 0.05);

      localStorage.setItem("ashirwadUsers", JSON.stringify(users));
      loadDashboard(name);
    }

    function loadDashboard(name) {
      const user = users[name];
      let total = 0;
      let depositHTML = "";
      user.deposits.forEach(d => {
        total += d.amount;
        depositHTML += `<div class="card">‚Çπ${d.amount} - ${d.month}</div>`;
      });

      document.getElementById("depositList").innerHTML = depositHTML || "No deposits yet";
      document.getElementById("totalDeposits").innerText = total;
      document.getElementById("expectedReturn").innerText = Math.floor(total * 1.2);
      document.getElementById("walletDisplay").innerText = user.wallet || "Not saved";

      // Referrals
      document.getElementById("referralList").innerHTML =
        user.team.length ? user.team.map(n => `<div class="card">${n}</div>`).join("") : "No team yet";
      document.getElementById("referralIncome").innerText = user.commission;
    }

    function saveWallet() {
      const wallet = document.getElementById("walletAddress").value.trim();
      if (!wallet) return alert("Enter wallet");
      const name = localStorage.getItem("ashirwadUser");
      users[name].wallet = wallet;
      localStorage.setItem("ashirwadUsers", JSON.stringify(users));
      loadDashboard(name);
    }

    function showAdmin() {
      document.getElementById("authSection").style.display = "none";
      document.getElementById("adminPanel").style.display = "block";

      const list = document.getElementById("userList");
      list.innerHTML = "";

      Object.entries(users).forEach(([username, u]) => {
        const total = u.deposits.reduce((sum, d) => sum + d.amount, 0);
        const wallet = u.wallet || "N/A";
        const team = u.team.length;
        const ref = u.referralBy || "None";
        const commission = u.commission;

        const div = document.createElement("div");
        div.className = "card admin-section";
        div.innerHTML = `
          <b>${username}</b><br>
          üîÅ Referral By: ${ref}<br>
          üë• Team: ${team} | üí∞ Deposits: ‚Çπ${total} | üíµ Commission: ‚Çπ${commission}<br>
          üíº Wallet: ${wallet}<br>
          üìÑ Deposits: ${u.deposits.map(d => `‚Çπ${d.amount} (${d.month})`).join(", ")}
        `;
        list.appendChild(div);
      });
    }
  </script>
</body>
</html>
      
      
